#!/bin/bash

FONTS_DIR=${HOME}/.local/share/fonts/
FONTS_REPO=https://github.com/ryanoasis/nerd-fonts/releases/latest/download/

# clears fonts directory
rm -rf ${FONTS_DIR}
mkdir -p ${FONTS_DIR}
# installs each font from the arguments
for THIS_FONT_NAME in "$@"; do
    echo "Installing ${THIS_FONT_NAME}..."
    curl -sSOL "${FONTS_REPO}${THIS_FONT_NAME}.tar.xz" --output-dir ${FONTS_DIR}
    tar xf "${FONTS_DIR}${THIS_FONT_NAME}.tar.xz" --directory ${FONTS_DIR}
    rm -rf "${FONTS_DIR}${THIS_FONT_NAME}.tar.xz"
done

# removes unused assets
find ${FONTS_DIR} -not -name "*.ttf" -type f -exec rm -rf "{}" ";"
# updates fonts cache
fc-cache -fv
